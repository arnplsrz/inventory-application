<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Game: <%= game.title %></title>
</head>

<body>
  <%- include('../partials/header') %>
  <h1>Edit Game: <%= game.title %></h1>
  <form action="/game/<%= game.id %>/edit" method="post">
    <input type="hidden" name="_method" value="PUT">

    <label for="title">Title:</label>
    <input type="text" id="title" name="title" value="<%= game.title %>" required>

    <label for="release_date">Release Date:</label>
    <input type="date" id="release_date" name="release_date" value="<%= game.release_date.toISOString().split('T')[0] %>" required>

    <h2>Genres</h2>
    <ul>
      <% genres.forEach(genre => { %>
      <li>
        <label>
          <input type="checkbox" name="genres" value="<%= genre.name %>" <%= game.genres.includes(genre.name) ? 'checked' : '' %>>
          <%= genre.name %>
        </label>
      </li>
      <% }) %>
    </ul>

    <h2>Developers</h2>
    <ul>
      <% developers.forEach(developer => { %>
      <li>
        <label>
          <input type="checkbox" name="developers" value="<%= developer.name %>" <%= game.developers.includes(developer.name) ? 'checked' : '' %>>
          <%= developer.name %>
        </label>
      </li>
      <% }) %>
    </ul>

    <button type="submit">Save Changes</button>
  </form>
</body>

</html>